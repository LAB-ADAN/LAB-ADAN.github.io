---
title: "Architectural Deep Dive: EFS"
date: 2025-10-30
categories: [AWS Storage]
tags: [EFS, EC2, Storage, NFS]
---

## Architectural Deep Dive: EFS

Amazon Elastic File System (EFS) simplifies how you manage shared storage in AWS.  
It’s scalable, fully managed, and built for high availability across multiple Availability Zones (AZs).

| Feature | The Simple Explanation |
|----------|------------------------|
| **Managed NFS & Multi-AZ** | A file share you never have to manage! It can be mounted on multiple EC2 instances across different AZs, providing built-in redundancy and high availability. |
| **Scalability & Cost** | EFS scales automatically from gigabytes to petabytes with no provisioning required. You pay only for the storage you use. |
| **OS Compatibility** | EFS is designed for Linux-based AMIs. For Windows workloads, you’ll need **FSx for Windows File Server**. |
| **Security First** | Enable encryption at rest with **AWS Key Management Service (KMS)** in just one click. |

---

##  Deep Dive: Performance, Throughput, and Scale

EFS isn’t a one-size-fits-all service — it’s flexible enough to meet a wide range of performance and cost needs. Let’s explore how.

### 1. EFS Scale

EFS is built to handle demanding workloads:

- Supports **thousands of concurrent NFS clients**  
- Provides **up to 10+ GB/s of throughput**  
- Grows automatically to **petabyte scale** — no resizing needed  

### 2. Performance Modes (Latency vs. Throughput)

Choose a performance mode based on your workload needs:

| Mode | Use Case | Description |
|------|-----------|-------------|
| **General Purpose (Default)** | Web servers, CMS, and latency-sensitive apps | Delivers the lowest latency for small, frequent reads/writes. |
| **Max I/O** | Big data analytics, media processing, or highly parallel workloads | Prioritizes throughput and concurrency at the cost of slightly higher latency. |

### 3. Throughput Modes (The Cost/Performance Balancing Act)

This setting defines how EFS delivers performance and scales with cost:

| Mode | How It Works | Best For |
|------|---------------|----------|
| **Elastic (Recommended!)** | Throughput scales automatically with workload demand — up to **3 GB/s for reads**. You pay only for what you use. | Unpredictable workloads such as development or burst traffic. |
| **Bursting** | Throughput scales with your storage size (e.g., **1 TB = 50 MB/s baseline + bursts**). | Predictable workloads with moderate performance needs. |
| **Provisioned** | You define fixed throughput independent of storage size. | Predictable, high-performance workloads with known requirements. |

---

###  The Smart Way to Save: Storage Classes

Since EFS can be more expensive than EBS, AWS offers **storage classes** to help you optimize costs.

| Storage Class | Cost vs. Retrieval | Best For |
|----------------|-------------------|-----------|
| **Standard** | Higher storage cost, no retrieval cost. | Frequently accessed (“hot”) data. |
| **Infrequent Access (EFS-IA)** | Lower storage cost, small retrieval fee. | Files not accessed for 30+ days. |
| **Archive (New)** | Deeply discounted storage, higher retrieval cost. | Rarely accessed, compliance, or historical data. |

> Use Lifecycle Management to automatically move files that haven’t been accessed for, say, 60 days to EFS-IA. Huge savings with zero manual effort!

---
###  Availability: Regional vs. One Zone

Choose availability based on your workload criticality:

| Mode | Description | Best For |
|------|--------------|----------|
| **Regional (Standard)** | Data is replicated across multiple Availability Zones (AZs) for maximum durability and uptime. | Production workloads requiring high availability. |
| **One Zone** | Data is stored in a single AZ for lower cost, with backups enabled by default. | Development, testing, or backup scenarios where lower cost is preferred. |




| **General Purpose (Default)** | Web servers, CMS, and latency-sensitive apps | Delivers the lowest latency for small, frequent reads/writes. |
| **Max I/O** | Big data analytics, media processing, or highly parallel workloads | Prioritizes throughput and concurrency at the cost of slightly higher latency. |
